import axios from 'axios';

// Интерфейс для тела запроса
interface Question {
  question: string;
}

// Интерфейс для ответа
interface GenerateResponse {
  answer: string;
}

// Массив с заготовленными фразами
const interestingComments = [
  'Интересный комментарий! Кстати, а вы знали, что Python был создан как хобби-проект? Теперь это один из самых популярных языков в мире.',
  'Любопытная мысль! Кстати, TypeScript был разработан Microsoft, чтобы сделать JavaScript более безопасным и удобным для больших проектов.',
  'Забавно, но Docker изначально создавался как внутренний проект компании dotCloud. Теперь это стандарт для контейнеризации приложений.',
  'Интересный взгляд! Кстати, алгоритм QuickSort был придуман Тони Хоаром в 1960 году, и до сих пор он остается одним из самых эффективных.',
  'Любопытно! А вы знали, что React был создан Facebook для улучшения производительности их веб-приложений? Теперь это одна из самых популярных библиотек.',
  'Интересный комментарий! Кстати, Node.js позволяет использовать JavaScript на сервере, что делает его универсальным инструментом для разработчиков.',
  'Любопытная мысль! GraphQL был создан Facebook, чтобы решить проблемы с избыточными запросами в REST API. Теперь он используется повсеместно.',
  'Забавно, но TensorFlow изначально разрабатывался для внутренних нужд Google. Теперь это одна из самых популярных библиотек для машинного обучения.',
  'Интересный взгляд! Кстати, Git был создан Линусом Торвальдсом для управления разработкой ядра Linux. Теперь это стандарт для контроля версий.',
  'Любопытно! А вы знали, что PostgreSQL поддерживает JSON, что делает ее гибкой как для реляционных, так и для NoSQL-задач?',
  'Интересный комментарий! Кстати, MongoDB хранит данные в формате BSON, что делает ее идеальной для работы с большими объемами данных.',
  'Любопытная мысль! Redis используется не только для кэширования, но и для создания очередей и хранения сессий в реальном времени.',
  'Забавно, но Elasticsearch был создан для поиска логов, а теперь используется для полнотекстового поиска и анализа данных.',
  'Интересный взгляд! Кстати, Kafka была разработана LinkedIn для обработки потоковых данных. Теперь это стандарт для событийно-ориентированных архитектур.',
  'Любопытно! А вы знали, что RabbitMQ используется для создания распределенных систем, где надежность доставки сообщений критически важна?',
  'Интересный комментарий! Кстати, Flutter позволяет создавать кроссплатформенные приложения с единой кодовой базой. Это экономит время разработчиков.',
  'Любопытная мысль! Vue.js был создан одним разработчиком, а теперь это один из самых популярных фреймворков для веб-разработки.',
  'Забавно, но Svelte компилирует код в чистый JavaScript, что делает приложения быстрее и легче. Это новый подход к веб-разработке.',
  'Интересный взгляд! Кстати, Rust был создан для безопасного системного программирования. Теперь он используется даже в ядре Linux.',
  'Любопытно! А вы знали, что Go был разработан Google для создания высокопроизводительных сетевых приложений?',
  'Интересный комментарий! Кстати, Swift был создан Apple для замены Objective-C. Теперь это основной язык для разработки под iOS.',
  'Любопытная мысль! Kotlin полностью совместим с Java, что делает его идеальным выбором для Android-разработки.',
  'Забавно, но C# используется не только для Windows-приложений, но и для создания игр на Unity и веб-приложений на ASP.NET.',
  'Интересный взгляд! Кстати, Unity поддерживает C# и позволяет создавать игры для множества платформ, включая PC, консоли и мобильные устройства.',
  'Любопытно! А вы знали, что Unreal Engine используется не только для игр, но и для создания визуальных эффектов в кино?',
  'Интересный комментарий! Кстати, WebAssembly позволяет запускать код на C, C++ и Rust в браузере. Это открывает новые возможности для веб-приложений.',
  'Любопытная мысль! GraphQL позволяет клиентам запрашивать только те данные, которые им нужны, что уменьшает нагрузку на сервер.',
  'Забавно, но REST до сих пор остается популярным благодаря своей простоте и масштабируемости. Хотя GraphQL набирает обороты.',
  'Интересный взгляд! Кстати, gRPC использует Protocol Buffers для сериализации данных, что делает его быстрее JSON.',
  'Любопытно! А вы знали, что WebSockets позволяют создавать приложения с реальным временем, такие как чаты и онлайн-игры?',
  'Интересный комментарий! Кстати, блокчейн обеспечивает прозрачность и безопасность, что делает его идеальным для криптовалют и смарт-контрактов.',
  'Любопытная мысль! Ethereum позволяет создавать децентрализованные приложения и смарт-контракты, что открывает новые возможности для разработчиков.',
  'Забавно, но Solidity похож на JavaScript, что делает его доступным для многих разработчиков, желающих работать с блокчейном.',
  'Интересный взгляд! Кстати, NFT стали популярными благодаря возможности доказать владение цифровыми активами, такими как искусство и музыка.',
  'Любопытно! А вы знали, что AI используется не только для распознавания изображений, но и для создания автономных систем и анализа данных?',
  'Интересный комментарий! Кстати, машинное обучение позволяет компьютерам обучаться на данных без явного программирования. Это будущее технологий.',
  'Любопытная мысль! Deep Learning использует нейронные сети с множеством слоев, что позволяет решать сложные задачи, такие как распознавание речи.',
  'Забавно, но нейронные сети вдохновлены работой человеческого мозга. Это делает их мощным инструментом для AI.',
  'Интересный взгляд! Кстати, Big Data позволяет анализировать огромные объемы данных, что помогает компаниям принимать более обоснованные решения.',
  'Любопытно! А вы знали, что Hadoop использует MapReduce для обработки больших данных на кластерах? Это революционная технология.',
  'Интересный комментарий! Кстати, Spark позволяет обрабатывать данные в реальном времени, что делает его идеальным для анализа потоковых данных.',
  'Любопытная мысль! NoSQL-базы данных, такие как MongoDB и Cassandra, идеально подходят для работы с неструктурированными данными.',
  'Забавно, но Cassandra обеспечивает высокую доступность и масштабируемость, что делает ее популярной в социальных сетях и IoT.',
  'Интересный взгляд! Кстати, IoT позволяет подключать устройства к интернету, что открывает новые возможности для автоматизации и анализа данных.',
  'Любопытно! А вы знали, что MQTT — это легковесный протокол, который идеально подходит для устройств с ограниченными ресурсами?',
  'Интересный комментарий! Кстати, 5G обеспечивает высокую скорость и низкую задержку, что открывает новые возможности для IoT и виртуальной реальности.',
  'Любопытная мысль! AR позволяет накладывать цифровые объекты на реальный мир, что делает ее популярной в играх и образовании.',
  'Забавно, но VR создает полностью иммерсивные среды, что делает ее идеальной для игр, обучения и симуляций.',
  'Интересный взгляд! Кстати, квантовые компьютеры используют кубиты для выполнения вычислений, что делает их намного мощнее классических компьютеров.',
  'Любопытно! А вы знали, что кибербезопасность становится все более важной в эпоху цифровых технологий?',
  'Интересный комментарий! Кстати, DevOps объединяет разработку и эксплуатацию, что ускоряет delivery и повышает надежность приложений.',
  'Любопытная мысль! CI/CD позволяет автоматизировать тестирование и деплой, что делает процесс разработки более эффективным.',
  'Забавно, но Jenkins поддерживает множество плагинов, что делает его универсальным инструментом для автоматизации CI/CD.',
  'Интересный взгляд! Кстати, Terraform позволяет управлять инфраструктурой как код, что упрощает работу с облачными платформами.',
  'Любопытно! А вы знали, что Ansible использует YAML для описания задач, что делает его простым и удобным для автоматизации?',
  'Интересный комментарий! Кстати, Kubernetes стал стандартом для оркестрации контейнеров, что делает его незаменимым в облачных средах.',
  'Любопытная мысль! Prometheus позволяет собирать метрики в реальном времени, что делает его идеальным для мониторинга приложений.',
  'Забавно, но Grafana используется для визуализации данных, что помогает анализировать производительность систем.',
  'Интересный взгляд! Кстати, Istio обеспечивает безопасность и управление трафиком в микросервисных архитектурах.',
  'Любопытно! А вы знали, что serverless-архитектура позволяет запускать код без управления серверами, что упрощает разработку?',
  'Интересный комментарий! Кстати, AWS Lambda позволяет выполнять код в ответ на события, что делает его идеальным для микросервисов.',
  'Любопытная мысль! Google Cloud Functions поддерживает Node.js и Python, что делает его универсальным для событийно-ориентированных приложений.',
  'Забавно, но Azure Functions позволяет создавать масштабируемые приложения, что делает его популярным в облачной разработке.',
  'Интересный взгляд! Кстати, блокчейн активно развивается и находит новые применения, такие как управление цепочками поставок.',
  'Любопытно! А вы знали, что Ethereum поддерживает токены и NFT, что делает его основой для многих блокчейн-проектов?',
  'Интересный комментарий! Кстати, Solidity позволяет создавать смарт-контракты, что открывает новые возможности для разработчиков.',
  'Любопытная мысль! NFT стали популярными благодаря возможности доказать владение цифровыми активами, такими как искусство и музыка.',
  'Забавно, но AI используется не только для распознавания изображений, но и для создания автономных систем и анализа данных.',
  'Интересный взгляд! Кстати, машинное обучение позволяет компьютерам обучаться на данных без явного программирования. Это будущее технологий.',
  'Любопытно! А вы знали, что Deep Learning использует нейронные сети с множеством слоев, что позволяет решать сложные задачи?',
  'Интересный комментарий! Кстати, нейронные сети вдохновлены работой человеческого мозга, что делает их мощным инструментом для AI.',
  'Любопытная мысль! Big Data позволяет анализировать огромные объемы данных, что помогает компаниям принимать более обоснованные решения.',
  'Забавно, но Hadoop использует MapReduce для обработки больших данных на кластерах, что делает его революционной технологией.',
  'Интересный взгляд! Кстати, Spark позволяет обрабатывать данные в реальном времени, что делает его идеальным для анализа потоковых данных.',
  'Любопытно! А вы знали, что NoSQL-базы данных, такие как MongoDB и Cassandra, идеально подходят для работы с неструктурированными данными?',
  'Интересный комментарий! Кстати, Cassandra обеспечивает высокую доступность и масштабируемость, что делает ее популярной в социальных сетях и IoT.',
  'Любопытная мысль! IoT позволяет подключать устройства к интернету, что открывает новые возможности для автоматизации и анализа данных.',
  'Забавно, но MQTT — это легковесный протокол, который идеально подходит для устройств с ограниченными ресурсами.',
  'Интересный взгляд! Кстати, 5G обеспечивает высокую скорость и низкую задержку, что открывает новые возможности для IoT и виртуальной реальности.',
  'Любопытно! А вы знали, что AR позволяет накладывать цифровые объекты на реальный мир, что делает ее популярной в играх и образовании?',
  'Интересный комментарий! Кстати, VR создает полностью иммерсивные среды, что делает ее идеальной для игр, обучения и симуляций.',
  'Любопытная мысль! Квантовые компьютеры используют кубиты для выполнения вычислений, что делает их намного мощнее классических компьютеров.',
  'Забавно, но кибербезопасность становится все более важной в эпоху цифровых технологий.',
  'Интересный взгляд! Кстати, DevOps объединяет разработку и эксплуатацию, что ускоряет delivery и повышает надежность приложений.',
  'Любопытно! А вы знали, что CI/CD позволяет автоматизировать тестирование и деплой, что делает процесс разработки более эффективным?',
  'Интересный комментарий! Кстати, Jenkins поддерживает множество плагинов, что делает его универсальным инструментом для автоматизации CI/CD.',
  'Любопытная мысль! Terraform позволяет управлять инфраструктурой как код, что упрощает работу с облачными платформами.',
  'Забавно, но Ansible использует YAML для описания задач, что делает его простым и удобным для автоматизации.',
  'Интересный взгляд! Кстати, Kubernetes стал стандартом для оркестрации контейнеров, что делает его незаменимым в облачных средах.',
  'Любопытно! А вы знали, что Prometheus позволяет собирать метрики в реальном времени, что делает его идеальным для мониторинга приложений?',
  'Интересный комментарий! Кстати, Grafana используется для визуализации данных, что помогает анализировать производительность систем.',
  'Любопытная мысль! Istio обеспечивает безопасность и управление трафиком в микросервисных архитектурах.',
  'Забавно, но serverless-архитектура позволяет запускать код без управления серверами, что упрощает разработку.',
  'Интересный взгляд! Кстати, AWS Lambda позволяет выполнять код в ответ на события, что делает его идеальным для микросервисов.',
  'Любопытно! А вы знали, что Google Cloud Functions поддерживает Node.js и Python, что делает его универсальным для событийно-ориентированных приложений?',
  'Интересный комментарий! Кстати, Azure Functions позволяет создавать масштабируемые приложения, что делает его популярным в облачной разработке.',
  'Любопытная мысль! Блокчейн активно развивается и находит новые применения, такие как управление цепочками поставок.',
  'Забавно, но Ethereum поддерживает токены и NFT, что делает его основой для многих блокчейн-проектов.',
  'Интересный взгляд! Кстати, Solidity позволяет создавать смарт-контракты, что открывает новые возможности для разработчиков.',
  'Любопытно! А вы знали, что NFT стали популярными благодаря возможности доказать владение цифровыми активами, такими как искусство и музыка?',
  'Интересный комментарий! Кстати, AI используется не только для распознавания изображений, но и для создания автономных систем и анализа данных.',
  'Любопытная мысль! Машинное обучение позволяет компьютерам обучаться на данных без явного программирования. Это будущее технологий.',
  'Забавно, но Deep Learning использует нейронные сети с множеством слоев, что позволяет решать сложные задачи.',
  'Интересный взгляд! Кстати, нейронные сети вдохновлены работой человеческого мозга, что делает их мощным инструментом для AI.',
  'Любопытно! А вы знали, что Big Data позволяет анализировать огромные объемы данных, что помогает компаниям принимать более обоснованные решения?',
  'Интересный комментарий! Кстати, Hadoop использует MapReduce для обработки больших данных на кластерах, что делает его революционной технологией.',
  'Любопытная мысль! Spark позволяет обрабатывать данные в реальном времени, что делает его идеальным для анализа потоковых данных.',
  'Забавно, но NoSQL-базы данных, такие как MongoDB и Cassandra, идеально подходят для работы с неструктурированными данными.',
];

// Функция для отправки POST-запроса
export const aiChatHandler = async (question: string): Promise<string> => {
  try {
    const url = 'http://localhost:5000/generate'; // Адрес вашего FastAPI-сервера
    const data: Question = { question }; // Тело запроса

    // Отправляем POST-запрос
    const response = await axios.post<GenerateResponse>(url, data);

    // Возвращаем ответ от сервера
    return response.data.answer;
  } catch (error) {
    if (axios.isAxiosError(error)) {
      // Обработка ошибок Axios
      console.error('Ошибка при отправке запроса:', error.message);
    } else {
      // Обработка других ошибок
      console.error('Неизвестная ошибка:', error);
    }

    // Возвращаем случайную заготовленную фразу
    const randomIndex = Math.floor(Math.random() * interestingComments.length);
    return interestingComments[randomIndex];
  }
};
